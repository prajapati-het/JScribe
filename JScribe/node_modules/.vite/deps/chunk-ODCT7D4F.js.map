{
  "version": 3,
  "sources": ["../../@codemirror/legacy-modes/mode/apl.js"],
  "sourcesContent": ["var builtInFuncs = {\r\n  \"+\": [\"conjugate\", \"add\"],\r\n  \"−\": [\"negate\", \"subtract\"],\r\n  \"×\": [\"signOf\", \"multiply\"],\r\n  \"÷\": [\"reciprocal\", \"divide\"],\r\n  \"⌈\": [\"ceiling\", \"greaterOf\"],\r\n  \"⌊\": [\"floor\", \"lesserOf\"],\r\n  \"∣\": [\"absolute\", \"residue\"],\r\n  \"⍳\": [\"indexGenerate\", \"indexOf\"],\r\n  \"?\": [\"roll\", \"deal\"],\r\n  \"⋆\": [\"exponentiate\", \"toThePowerOf\"],\r\n  \"⍟\": [\"naturalLog\", \"logToTheBase\"],\r\n  \"○\": [\"piTimes\", \"circularFuncs\"],\r\n  \"!\": [\"factorial\", \"binomial\"],\r\n  \"⌹\": [\"matrixInverse\", \"matrixDivide\"],\r\n  \"<\": [null, \"lessThan\"],\r\n  \"≤\": [null, \"lessThanOrEqual\"],\r\n  \"=\": [null, \"equals\"],\r\n  \">\": [null, \"greaterThan\"],\r\n  \"≥\": [null, \"greaterThanOrEqual\"],\r\n  \"≠\": [null, \"notEqual\"],\r\n  \"≡\": [\"depth\", \"match\"],\r\n  \"≢\": [null, \"notMatch\"],\r\n  \"∈\": [\"enlist\", \"membership\"],\r\n  \"⍷\": [null, \"find\"],\r\n  \"∪\": [\"unique\", \"union\"],\r\n  \"∩\": [null, \"intersection\"],\r\n  \"∼\": [\"not\", \"without\"],\r\n  \"∨\": [null, \"or\"],\r\n  \"∧\": [null, \"and\"],\r\n  \"⍱\": [null, \"nor\"],\r\n  \"⍲\": [null, \"nand\"],\r\n  \"⍴\": [\"shapeOf\", \"reshape\"],\r\n  \",\": [\"ravel\", \"catenate\"],\r\n  \"⍪\": [null, \"firstAxisCatenate\"],\r\n  \"⌽\": [\"reverse\", \"rotate\"],\r\n  \"⊖\": [\"axis1Reverse\", \"axis1Rotate\"],\r\n  \"⍉\": [\"transpose\", null],\r\n  \"↑\": [\"first\", \"take\"],\r\n  \"↓\": [null, \"drop\"],\r\n  \"⊂\": [\"enclose\", \"partitionWithAxis\"],\r\n  \"⊃\": [\"diclose\", \"pick\"],\r\n  \"⌷\": [null, \"index\"],\r\n  \"⍋\": [\"gradeUp\", null],\r\n  \"⍒\": [\"gradeDown\", null],\r\n  \"⊤\": [\"encode\", null],\r\n  \"⊥\": [\"decode\", null],\r\n  \"⍕\": [\"format\", \"formatByExample\"],\r\n  \"⍎\": [\"execute\", null],\r\n  \"⊣\": [\"stop\", \"left\"],\r\n  \"⊢\": [\"pass\", \"right\"]\r\n};\r\n\r\nvar isOperator = /[\\.\\/⌿⍀¨⍣]/;\r\nvar isNiladic = /⍬/;\r\nvar isFunction = /[\\+−×÷⌈⌊∣⍳\\?⋆⍟○!⌹<≤=>≥≠≡≢∈⍷∪∩∼∨∧⍱⍲⍴,⍪⌽⊖⍉↑↓⊂⊃⌷⍋⍒⊤⊥⍕⍎⊣⊢]/;\r\nvar isArrow = /←/;\r\nvar isComment = /[⍝#].*$/;\r\n\r\nvar stringEater = function(type) {\r\n  var prev;\r\n  prev = false;\r\n  return function(c) {\r\n    prev = c;\r\n    if (c === type) {\r\n      return prev === \"\\\\\";\r\n    }\r\n    return true;\r\n  };\r\n};\r\n\r\nexport const apl = {\r\n  name: \"apl\",\r\n  startState: function() {\r\n    return {\r\n      prev: false,\r\n      func: false,\r\n      op: false,\r\n      string: false,\r\n      escape: false\r\n    };\r\n  },\r\n  token: function(stream, state) {\r\n    var ch;\r\n    if (stream.eatSpace()) {\r\n      return null;\r\n    }\r\n    ch = stream.next();\r\n    if (ch === '\"' || ch === \"'\") {\r\n      stream.eatWhile(stringEater(ch));\r\n      stream.next();\r\n      state.prev = true;\r\n      return \"string\";\r\n    }\r\n    if (/[\\[{\\(]/.test(ch)) {\r\n      state.prev = false;\r\n      return null;\r\n    }\r\n    if (/[\\]}\\)]/.test(ch)) {\r\n      state.prev = true;\r\n      return null;\r\n    }\r\n    if (isNiladic.test(ch)) {\r\n      state.prev = false;\r\n      return \"atom\";\r\n    }\r\n    if (/[¯\\d]/.test(ch)) {\r\n      if (state.func) {\r\n        state.func = false;\r\n        state.prev = false;\r\n      } else {\r\n        state.prev = true;\r\n      }\r\n      stream.eatWhile(/[\\w\\.]/);\r\n      return \"number\";\r\n    }\r\n    if (isOperator.test(ch)) {\r\n      return \"operator\"\r\n    }\r\n    if (isArrow.test(ch)) {\r\n      return \"operator\";\r\n    }\r\n    if (isFunction.test(ch)) {\r\n      state.func = true;\r\n      state.prev = false;\r\n      return builtInFuncs[ch] ? \"variableName.function.standard\" : \"variableName.function\"\r\n    }\r\n    if (isComment.test(ch)) {\r\n      stream.skipToEnd();\r\n      return \"comment\";\r\n    }\r\n    if (ch === \"∘\" && stream.peek() === \".\") {\r\n      stream.next();\r\n      return \"variableName.function\";\r\n    }\r\n    stream.eatWhile(/[\\w\\$_]/);\r\n    state.prev = true;\r\n    return \"keyword\";\r\n  }\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
