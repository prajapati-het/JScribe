{
  "version": 3,
  "sources": ["../../@codemirror/legacy-modes/mode/asterisk.js"],
  "sourcesContent": ["var atoms    = [\"exten\", \"same\", \"include\",\"ignorepat\",\"switch\"],\r\n    dpcmd    = [\"#include\",\"#exec\"],\r\n    apps     = [\r\n      \"addqueuemember\",\"adsiprog\",\"aelsub\",\"agentlogin\",\"agentmonitoroutgoing\",\"agi\",\r\n      \"alarmreceiver\",\"amd\",\"answer\",\"authenticate\",\"background\",\"backgrounddetect\",\r\n      \"bridge\",\"busy\",\"callcompletioncancel\",\"callcompletionrequest\",\"celgenuserevent\",\r\n      \"changemonitor\",\"chanisavail\",\"channelredirect\",\"chanspy\",\"clearhash\",\"confbridge\",\r\n      \"congestion\",\"continuewhile\",\"controlplayback\",\"dahdiacceptr2call\",\"dahdibarge\",\r\n      \"dahdiras\",\"dahdiscan\",\"dahdisendcallreroutingfacility\",\"dahdisendkeypadfacility\",\r\n      \"datetime\",\"dbdel\",\"dbdeltree\",\"deadagi\",\"dial\",\"dictate\",\"directory\",\"disa\",\r\n      \"dumpchan\",\"eagi\",\"echo\",\"endwhile\",\"exec\",\"execif\",\"execiftime\",\"exitwhile\",\"extenspy\",\r\n      \"externalivr\",\"festival\",\"flash\",\"followme\",\"forkcdr\",\"getcpeid\",\"gosub\",\"gosubif\",\r\n      \"goto\",\"gotoif\",\"gotoiftime\",\"hangup\",\"iax2provision\",\"ices\",\"importvar\",\"incomplete\",\r\n      \"ivrdemo\",\"jabberjoin\",\"jabberleave\",\"jabbersend\",\"jabbersendgroup\",\"jabberstatus\",\r\n      \"jack\",\"log\",\"macro\",\"macroexclusive\",\"macroexit\",\"macroif\",\"mailboxexists\",\"meetme\",\r\n      \"meetmeadmin\",\"meetmechanneladmin\",\"meetmecount\",\"milliwatt\",\"minivmaccmess\",\"minivmdelete\",\r\n      \"minivmgreet\",\"minivmmwi\",\"minivmnotify\",\"minivmrecord\",\"mixmonitor\",\"monitor\",\"morsecode\",\r\n      \"mp3player\",\"mset\",\"musiconhold\",\"nbscat\",\"nocdr\",\"noop\",\"odbc\",\"odbc\",\"odbcfinish\",\r\n      \"originate\",\"ospauth\",\"ospfinish\",\"osplookup\",\"ospnext\",\"page\",\"park\",\"parkandannounce\",\r\n      \"parkedcall\",\"pausemonitor\",\"pausequeuemember\",\"pickup\",\"pickupchan\",\"playback\",\"playtones\",\r\n      \"privacymanager\",\"proceeding\",\"progress\",\"queue\",\"queuelog\",\"raiseexception\",\"read\",\"readexten\",\r\n      \"readfile\",\"receivefax\",\"receivefax\",\"receivefax\",\"record\",\"removequeuemember\",\r\n      \"resetcdr\",\"retrydial\",\"return\",\"ringing\",\"sayalpha\",\"saycountedadj\",\"saycountednoun\",\r\n      \"saycountpl\",\"saydigits\",\"saynumber\",\"sayphonetic\",\"sayunixtime\",\"senddtmf\",\"sendfax\",\r\n      \"sendfax\",\"sendfax\",\"sendimage\",\"sendtext\",\"sendurl\",\"set\",\"setamaflags\",\r\n      \"setcallerpres\",\"setmusiconhold\",\"sipaddheader\",\"sipdtmfmode\",\"sipremoveheader\",\"skel\",\r\n      \"slastation\",\"slatrunk\",\"sms\",\"softhangup\",\"speechactivategrammar\",\"speechbackground\",\r\n      \"speechcreate\",\"speechdeactivategrammar\",\"speechdestroy\",\"speechloadgrammar\",\"speechprocessingsound\",\r\n      \"speechstart\",\"speechunloadgrammar\",\"stackpop\",\"startmusiconhold\",\"stopmixmonitor\",\"stopmonitor\",\r\n      \"stopmusiconhold\",\"stopplaytones\",\"system\",\"testclient\",\"testserver\",\"transfer\",\"tryexec\",\r\n      \"trysystem\",\"unpausemonitor\",\"unpausequeuemember\",\"userevent\",\"verbose\",\"vmauthenticate\",\r\n      \"vmsayname\",\"voicemail\",\"voicemailmain\",\"wait\",\"waitexten\",\"waitfornoise\",\"waitforring\",\r\n      \"waitforsilence\",\"waitmusiconhold\",\"waituntil\",\"while\",\"zapateller\"\r\n    ];\r\n\r\nfunction basicToken(stream,state){\r\n  var cur = '';\r\n  var ch = stream.next();\r\n  // comment\r\n  if (state.blockComment) {\r\n    if (ch == \"-\" && stream.match(\"-;\", true)) {\r\n      state.blockComment = false;\r\n    } else if (stream.skipTo(\"--;\")) {\r\n      stream.next();\r\n      stream.next();\r\n      stream.next();\r\n      state.blockComment = false;\r\n    } else {\r\n      stream.skipToEnd();\r\n    }\r\n    return \"comment\";\r\n  }\r\n  if(ch == \";\") {\r\n    if (stream.match(\"--\", true)) {\r\n      if (!stream.match(\"-\", false)) {  // Except ;--- is not a block comment\r\n        state.blockComment = true;\r\n        return \"comment\";\r\n      }\r\n    }\r\n    stream.skipToEnd();\r\n    return \"comment\";\r\n  }\r\n  // context\r\n  if(ch == '[') {\r\n    stream.skipTo(']');\r\n    stream.eat(']');\r\n    return \"header\";\r\n  }\r\n  // string\r\n  if(ch == '\"') {\r\n    stream.skipTo('\"');\r\n    return \"string\";\r\n  }\r\n  if(ch == \"'\") {\r\n    stream.skipTo(\"'\");\r\n    return \"string.special\";\r\n  }\r\n  // dialplan commands\r\n  if(ch == '#') {\r\n    stream.eatWhile(/\\w/);\r\n    cur = stream.current();\r\n    if(dpcmd.indexOf(cur) !== -1) {\r\n      stream.skipToEnd();\r\n      return \"strong\";\r\n    }\r\n  }\r\n  // application args\r\n  if(ch == '$'){\r\n    var ch1 = stream.peek();\r\n    if(ch1 == '{'){\r\n      stream.skipTo('}');\r\n      stream.eat('}');\r\n      return \"variableName.special\";\r\n    }\r\n  }\r\n  // extension\r\n  stream.eatWhile(/\\w/);\r\n  cur = stream.current();\r\n  if(atoms.indexOf(cur) !== -1) {\r\n    state.extenStart = true;\r\n    switch(cur) {\r\n    case 'same': state.extenSame = true; break;\r\n    case 'include':\r\n    case 'switch':\r\n    case 'ignorepat':\r\n      state.extenInclude = true;break;\r\n    default:break;\r\n    }\r\n    return \"atom\";\r\n  }\r\n}\r\n\r\nexport const asterisk = {\r\n  name: \"asterisk\",\r\n  startState: function() {\r\n    return {\r\n      blockComment: false,\r\n      extenStart: false,\r\n      extenSame:  false,\r\n      extenInclude: false,\r\n      extenExten: false,\r\n      extenPriority: false,\r\n      extenApplication: false\r\n    };\r\n  },\r\n  token: function(stream, state) {\r\n\r\n    var cur = '';\r\n    if(stream.eatSpace()) return null;\r\n    // extension started\r\n    if(state.extenStart){\r\n      stream.eatWhile(/[^\\s]/);\r\n      cur = stream.current();\r\n      if(/^=>?$/.test(cur)){\r\n        state.extenExten = true;\r\n        state.extenStart = false;\r\n        return \"strong\";\r\n      } else {\r\n        state.extenStart = false;\r\n        stream.skipToEnd();\r\n        return \"error\";\r\n      }\r\n    } else if(state.extenExten) {\r\n      // set exten and priority\r\n      state.extenExten = false;\r\n      state.extenPriority = true;\r\n      stream.eatWhile(/[^,]/);\r\n      if(state.extenInclude) {\r\n        stream.skipToEnd();\r\n        state.extenPriority = false;\r\n        state.extenInclude = false;\r\n      }\r\n      if(state.extenSame) {\r\n        state.extenPriority = false;\r\n        state.extenSame = false;\r\n        state.extenApplication = true;\r\n      }\r\n      return \"tag\";\r\n    } else if(state.extenPriority) {\r\n      state.extenPriority = false;\r\n      state.extenApplication = true;\r\n      stream.next(); // get comma\r\n      if(state.extenSame) return null;\r\n      stream.eatWhile(/[^,]/);\r\n      return \"number\";\r\n    } else if(state.extenApplication) {\r\n      stream.eatWhile(/,/);\r\n      cur = stream.current();\r\n      if(cur === ',') return null;\r\n      stream.eatWhile(/\\w/);\r\n      cur = stream.current().toLowerCase();\r\n      state.extenApplication = false;\r\n      if(apps.indexOf(cur) !== -1){\r\n        return \"def\";\r\n      }\r\n    } else{\r\n      return basicToken(stream,state);\r\n    }\r\n\r\n    return null;\r\n  },\r\n\r\n  languageData: {\r\n    commentTokens: {line: \";\", block: {open: \";--\", close: \"--;\"}}\r\n  }\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
