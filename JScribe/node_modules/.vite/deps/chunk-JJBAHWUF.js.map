{
  "version": 3,
  "sources": ["../../@codemirror/legacy-modes/mode/cobol.js"],
  "sourcesContent": ["var BUILTIN = \"builtin\", COMMENT = \"comment\", STRING = \"string\",\r\n    ATOM = \"atom\", NUMBER = \"number\", KEYWORD = \"keyword\", MODTAG = \"header\",\r\n    COBOLLINENUM = \"def\", PERIOD = \"link\";\r\nfunction makeKeywords(str) {\r\n  var obj = {}, words = str.split(\" \");\r\n  for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\r\n  return obj;\r\n}\r\nvar atoms = makeKeywords(\"TRUE FALSE ZEROES ZEROS ZERO SPACES SPACE LOW-VALUE LOW-VALUES \");\r\nvar keywords = makeKeywords(\r\n  \"ACCEPT ACCESS ACQUIRE ADD ADDRESS \" +\r\n    \"ADVANCING AFTER ALIAS ALL ALPHABET \" +\r\n    \"ALPHABETIC ALPHABETIC-LOWER ALPHABETIC-UPPER ALPHANUMERIC ALPHANUMERIC-EDITED \" +\r\n    \"ALSO ALTER ALTERNATE AND ANY \" +\r\n    \"ARE AREA AREAS ARITHMETIC ASCENDING \" +\r\n    \"ASSIGN AT ATTRIBUTE AUTHOR AUTO \" +\r\n    \"AUTO-SKIP AUTOMATIC B-AND B-EXOR B-LESS \" +\r\n    \"B-NOT B-OR BACKGROUND-COLOR BACKGROUND-COLOUR BEEP \" +\r\n    \"BEFORE BELL BINARY BIT BITS \" +\r\n    \"BLANK BLINK BLOCK BOOLEAN BOTTOM \" +\r\n    \"BY CALL CANCEL CD CF \" +\r\n    \"CH CHARACTER CHARACTERS CLASS CLOCK-UNITS \" +\r\n    \"CLOSE COBOL CODE CODE-SET COL \" +\r\n    \"COLLATING COLUMN COMMA COMMIT COMMITMENT \" +\r\n    \"COMMON COMMUNICATION COMP COMP-0 COMP-1 \" +\r\n    \"COMP-2 COMP-3 COMP-4 COMP-5 COMP-6 \" +\r\n    \"COMP-7 COMP-8 COMP-9 COMPUTATIONAL COMPUTATIONAL-0 \" +\r\n    \"COMPUTATIONAL-1 COMPUTATIONAL-2 COMPUTATIONAL-3 COMPUTATIONAL-4 COMPUTATIONAL-5 \" +\r\n    \"COMPUTATIONAL-6 COMPUTATIONAL-7 COMPUTATIONAL-8 COMPUTATIONAL-9 COMPUTE \" +\r\n    \"CONFIGURATION CONNECT CONSOLE CONTAINED CONTAINS \" +\r\n    \"CONTENT CONTINUE CONTROL CONTROL-AREA CONTROLS \" +\r\n    \"CONVERTING COPY CORR CORRESPONDING COUNT \" +\r\n    \"CRT CRT-UNDER CURRENCY CURRENT CURSOR \" +\r\n    \"DATA DATE DATE-COMPILED DATE-WRITTEN DAY \" +\r\n    \"DAY-OF-WEEK DB DB-ACCESS-CONTROL-KEY DB-DATA-NAME DB-EXCEPTION \" +\r\n    \"DB-FORMAT-NAME DB-RECORD-NAME DB-SET-NAME DB-STATUS DBCS \" +\r\n    \"DBCS-EDITED DE DEBUG-CONTENTS DEBUG-ITEM DEBUG-LINE \" +\r\n    \"DEBUG-NAME DEBUG-SUB-1 DEBUG-SUB-2 DEBUG-SUB-3 DEBUGGING \" +\r\n    \"DECIMAL-POINT DECLARATIVES DEFAULT DELETE DELIMITED \" +\r\n    \"DELIMITER DEPENDING DESCENDING DESCRIBED DESTINATION \" +\r\n    \"DETAIL DISABLE DISCONNECT DISPLAY DISPLAY-1 \" +\r\n    \"DISPLAY-2 DISPLAY-3 DISPLAY-4 DISPLAY-5 DISPLAY-6 \" +\r\n    \"DISPLAY-7 DISPLAY-8 DISPLAY-9 DIVIDE DIVISION \" +\r\n    \"DOWN DROP DUPLICATE DUPLICATES DYNAMIC \" +\r\n    \"EBCDIC EGI EJECT ELSE EMI \" +\r\n    \"EMPTY EMPTY-CHECK ENABLE END END. END-ACCEPT END-ACCEPT. \" +\r\n    \"END-ADD END-CALL END-COMPUTE END-DELETE END-DISPLAY \" +\r\n    \"END-DIVIDE END-EVALUATE END-IF END-INVOKE END-MULTIPLY \" +\r\n    \"END-OF-PAGE END-PERFORM END-READ END-RECEIVE END-RETURN \" +\r\n    \"END-REWRITE END-SEARCH END-START END-STRING END-SUBTRACT \" +\r\n    \"END-UNSTRING END-WRITE END-XML ENTER ENTRY \" +\r\n    \"ENVIRONMENT EOP EQUAL EQUALS ERASE \" +\r\n    \"ERROR ESI EVALUATE EVERY EXCEEDS \" +\r\n    \"EXCEPTION EXCLUSIVE EXIT EXTEND EXTERNAL \" +\r\n    \"EXTERNALLY-DESCRIBED-KEY FD FETCH FILE FILE-CONTROL \" +\r\n    \"FILE-STREAM FILES FILLER FINAL FIND \" +\r\n    \"FINISH FIRST FOOTING FOR FOREGROUND-COLOR \" +\r\n    \"FOREGROUND-COLOUR FORMAT FREE FROM FULL \" +\r\n    \"FUNCTION GENERATE GET GIVING GLOBAL \" +\r\n    \"GO GOBACK GREATER GROUP HEADING \" +\r\n    \"HIGH-VALUE HIGH-VALUES HIGHLIGHT I-O I-O-CONTROL \" +\r\n    \"ID IDENTIFICATION IF IN INDEX \" +\r\n    \"INDEX-1 INDEX-2 INDEX-3 INDEX-4 INDEX-5 \" +\r\n    \"INDEX-6 INDEX-7 INDEX-8 INDEX-9 INDEXED \" +\r\n    \"INDIC INDICATE INDICATOR INDICATORS INITIAL \" +\r\n    \"INITIALIZE INITIATE INPUT INPUT-OUTPUT INSPECT \" +\r\n    \"INSTALLATION INTO INVALID INVOKE IS \" +\r\n    \"JUST JUSTIFIED KANJI KEEP KEY \" +\r\n    \"LABEL LAST LD LEADING LEFT \" +\r\n    \"LEFT-JUSTIFY LENGTH LENGTH-CHECK LESS LIBRARY \" +\r\n    \"LIKE LIMIT LIMITS LINAGE LINAGE-COUNTER \" +\r\n    \"LINE LINE-COUNTER LINES LINKAGE LOCAL-STORAGE \" +\r\n    \"LOCALE LOCALLY LOCK \" +\r\n    \"MEMBER MEMORY MERGE MESSAGE METACLASS \" +\r\n    \"MODE MODIFIED MODIFY MODULES MOVE \" +\r\n    \"MULTIPLE MULTIPLY NATIONAL NATIVE NEGATIVE \" +\r\n    \"NEXT NO NO-ECHO NONE NOT \" +\r\n    \"NULL NULL-KEY-MAP NULL-MAP NULLS NUMBER \" +\r\n    \"NUMERIC NUMERIC-EDITED OBJECT OBJECT-COMPUTER OCCURS \" +\r\n    \"OF OFF OMITTED ON ONLY \" +\r\n    \"OPEN OPTIONAL OR ORDER ORGANIZATION \" +\r\n    \"OTHER OUTPUT OVERFLOW OWNER PACKED-DECIMAL \" +\r\n    \"PADDING PAGE PAGE-COUNTER PARSE PERFORM \" +\r\n    \"PF PH PIC PICTURE PLUS \" +\r\n    \"POINTER POSITION POSITIVE PREFIX PRESENT \" +\r\n    \"PRINTING PRIOR PROCEDURE PROCEDURE-POINTER PROCEDURES \" +\r\n    \"PROCEED PROCESS PROCESSING PROGRAM PROGRAM-ID \" +\r\n    \"PROMPT PROTECTED PURGE QUEUE QUOTE \" +\r\n    \"QUOTES RANDOM RD READ READY \" +\r\n    \"REALM RECEIVE RECONNECT RECORD RECORD-NAME \" +\r\n    \"RECORDS RECURSIVE REDEFINES REEL REFERENCE \" +\r\n    \"REFERENCE-MONITOR REFERENCES RELATION RELATIVE RELEASE \" +\r\n    \"REMAINDER REMOVAL RENAMES REPEATED REPLACE \" +\r\n    \"REPLACING REPORT REPORTING REPORTS REPOSITORY \" +\r\n    \"REQUIRED RERUN RESERVE RESET RETAINING \" +\r\n    \"RETRIEVAL RETURN RETURN-CODE RETURNING REVERSE-VIDEO \" +\r\n    \"REVERSED REWIND REWRITE RF RH \" +\r\n    \"RIGHT RIGHT-JUSTIFY ROLLBACK ROLLING ROUNDED \" +\r\n    \"RUN SAME SCREEN SD SEARCH \" +\r\n    \"SECTION SECURE SECURITY SEGMENT SEGMENT-LIMIT \" +\r\n    \"SELECT SEND SENTENCE SEPARATE SEQUENCE \" +\r\n    \"SEQUENTIAL SET SHARED SIGN SIZE \" +\r\n    \"SKIP1 SKIP2 SKIP3 SORT SORT-MERGE \" +\r\n    \"SORT-RETURN SOURCE SOURCE-COMPUTER SPACE-FILL \" +\r\n    \"SPECIAL-NAMES STANDARD STANDARD-1 STANDARD-2 \" +\r\n    \"START STARTING STATUS STOP STORE \" +\r\n    \"STRING SUB-QUEUE-1 SUB-QUEUE-2 SUB-QUEUE-3 SUB-SCHEMA \" +\r\n    \"SUBFILE SUBSTITUTE SUBTRACT SUM SUPPRESS \" +\r\n    \"SYMBOLIC SYNC SYNCHRONIZED SYSIN SYSOUT \" +\r\n    \"TABLE TALLYING TAPE TENANT TERMINAL \" +\r\n    \"TERMINATE TEST TEXT THAN THEN \" +\r\n    \"THROUGH THRU TIME TIMES TITLE \" +\r\n    \"TO TOP TRAILING TRAILING-SIGN TRANSACTION \" +\r\n    \"TYPE TYPEDEF UNDERLINE UNEQUAL UNIT \" +\r\n    \"UNSTRING UNTIL UP UPDATE UPON \" +\r\n    \"USAGE USAGE-MODE USE USING VALID \" +\r\n    \"VALIDATE VALUE VALUES VARYING VLR \" +\r\n    \"WAIT WHEN WHEN-COMPILED WITH WITHIN \" +\r\n    \"WORDS WORKING-STORAGE WRITE XML XML-CODE \" +\r\n    \"XML-EVENT XML-NTEXT XML-TEXT ZERO ZERO-FILL \" );\r\n\r\nvar builtins = makeKeywords(\"- * ** / + < <= = > >= \");\r\nvar tests = {\r\n  digit: /\\d/,\r\n  digit_or_colon: /[\\d:]/,\r\n  hex: /[0-9a-f]/i,\r\n  sign: /[+-]/,\r\n  exponent: /e/i,\r\n  keyword_char: /[^\\s\\(\\[\\;\\)\\]]/,\r\n  symbol: /[\\w*+\\-]/\r\n};\r\nfunction isNumber(ch, stream){\r\n  // hex\r\n  if ( ch === '0' && stream.eat(/x/i) ) {\r\n    stream.eatWhile(tests.hex);\r\n    return true;\r\n  }\r\n  // leading sign\r\n  if ( ( ch == '+' || ch == '-' ) && ( tests.digit.test(stream.peek()) ) ) {\r\n    stream.eat(tests.sign);\r\n    ch = stream.next();\r\n  }\r\n  if ( tests.digit.test(ch) ) {\r\n    stream.eat(ch);\r\n    stream.eatWhile(tests.digit);\r\n    if ( '.' == stream.peek()) {\r\n      stream.eat('.');\r\n      stream.eatWhile(tests.digit);\r\n    }\r\n    if ( stream.eat(tests.exponent) ) {\r\n      stream.eat(tests.sign);\r\n      stream.eatWhile(tests.digit);\r\n    }\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nexport const cobol = {\r\n  name: \"cobol\",\r\n  startState: function () {\r\n    return {\r\n      indentStack: null,\r\n      indentation: 0,\r\n      mode: false\r\n    };\r\n  },\r\n  token: function (stream, state) {\r\n    if (state.indentStack == null && stream.sol()) {\r\n      // update indentation, but only if indentStack is empty\r\n      state.indentation = 6 ; //stream.indentation();\r\n    }\r\n    // skip spaces\r\n    if (stream.eatSpace()) {\r\n      return null;\r\n    }\r\n    var returnType = null;\r\n    switch(state.mode){\r\n    case \"string\": // multi-line string parsing mode\r\n      var next = false;\r\n      while ((next = stream.next()) != null) {\r\n        if ((next == \"\\\"\" || next == \"\\'\") && !stream.match(/['\"]/, false)) {\r\n          state.mode = false;\r\n          break;\r\n        }\r\n      }\r\n      returnType = STRING; // continue on in string mode\r\n      break;\r\n    default: // default parsing mode\r\n      var ch = stream.next();\r\n      var col = stream.column();\r\n      if (col >= 0 && col <= 5) {\r\n        returnType = COBOLLINENUM;\r\n      } else if (col >= 72 && col <= 79) {\r\n        stream.skipToEnd();\r\n        returnType = MODTAG;\r\n      } else if (ch == \"*\" && col == 6) { // comment\r\n        stream.skipToEnd(); // rest of the line is a comment\r\n        returnType = COMMENT;\r\n      } else if (ch == \"\\\"\" || ch == \"\\'\") {\r\n        state.mode = \"string\";\r\n        returnType = STRING;\r\n      } else if (ch == \"'\" && !( tests.digit_or_colon.test(stream.peek()) )) {\r\n        returnType = ATOM;\r\n      } else if (ch == \".\") {\r\n        returnType = PERIOD;\r\n      } else if (isNumber(ch,stream)){\r\n        returnType = NUMBER;\r\n      } else {\r\n        if (stream.current().match(tests.symbol)) {\r\n          while (col < 71) {\r\n            if (stream.eat(tests.symbol) === undefined) {\r\n              break;\r\n            } else {\r\n              col++;\r\n            }\r\n          }\r\n        }\r\n        if (keywords && keywords.propertyIsEnumerable(stream.current().toUpperCase())) {\r\n          returnType = KEYWORD;\r\n        } else if (builtins && builtins.propertyIsEnumerable(stream.current().toUpperCase())) {\r\n          returnType = BUILTIN;\r\n        } else if (atoms && atoms.propertyIsEnumerable(stream.current().toUpperCase())) {\r\n          returnType = ATOM;\r\n        } else returnType = null;\r\n      }\r\n    }\r\n    return returnType;\r\n  },\r\n  indent: function (state) {\r\n    if (state.indentStack == null) return state.indentation;\r\n    return state.indentStack.indent;\r\n  }\r\n};\r\n\r\n"],
  "mappings": "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",
  "names": []
}
