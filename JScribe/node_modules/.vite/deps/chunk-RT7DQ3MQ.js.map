{
  "version": 3,
  "sources": ["../../@codemirror/legacy-modes/mode/cmake.js"],
  "sourcesContent": ["var variable_regex = /({)?[a-zA-Z0-9_]+(})?/;\r\n\r\nfunction tokenString(stream, state) {\r\n  var current, prev, found_var = false;\r\n  while (!stream.eol() && (current = stream.next()) != state.pending) {\r\n    if (current === '$' && prev != '\\\\' && state.pending == '\"') {\r\n      found_var = true;\r\n      break;\r\n    }\r\n    prev = current;\r\n  }\r\n  if (found_var) {\r\n    stream.backUp(1);\r\n  }\r\n  if (current == state.pending) {\r\n    state.continueString = false;\r\n  } else {\r\n    state.continueString = true;\r\n  }\r\n  return \"string\";\r\n}\r\n\r\nfunction tokenize(stream, state) {\r\n  var ch = stream.next();\r\n\r\n  // Have we found a variable?\r\n  if (ch === '$') {\r\n    if (stream.match(variable_regex)) {\r\n      return 'variableName.special';\r\n    }\r\n    return 'variable';\r\n  }\r\n  // Should we still be looking for the end of a string?\r\n  if (state.continueString) {\r\n    // If so, go through the loop again\r\n    stream.backUp(1);\r\n    return tokenString(stream, state);\r\n  }\r\n  // Do we just have a function on our hands?\r\n  // In 'cmake_minimum_required (VERSION 2.8.8)', 'cmake_minimum_required' is matched\r\n  if (stream.match(/(\\s+)?\\w+\\(/) || stream.match(/(\\s+)?\\w+\\ \\(/)) {\r\n    stream.backUp(1);\r\n    return 'def';\r\n  }\r\n  if (ch == \"#\") {\r\n    stream.skipToEnd();\r\n    return \"comment\";\r\n  }\r\n  // Have we found a string?\r\n  if (ch == \"'\" || ch == '\"') {\r\n    // Store the type (single or double)\r\n    state.pending = ch;\r\n    // Perform the looping function to find the end\r\n    return tokenString(stream, state);\r\n  }\r\n  if (ch == '(' || ch == ')') {\r\n    return 'bracket';\r\n  }\r\n  if (ch.match(/[0-9]/)) {\r\n    return 'number';\r\n  }\r\n  stream.eatWhile(/[\\w-]/);\r\n  return null;\r\n}\r\nexport const cmake = {\r\n  name: \"cmake\",\r\n  startState: function () {\r\n    var state = {};\r\n    state.inDefinition = false;\r\n    state.inInclude = false;\r\n    state.continueString = false;\r\n    state.pending = false;\r\n    return state;\r\n  },\r\n  token: function (stream, state) {\r\n    if (stream.eatSpace()) return null;\r\n    return tokenize(stream, state);\r\n  }\r\n};\r\n\r\n"],
  "mappings": ";AAAA,IAAI,iBAAiB;AAErB,SAAS,YAAY,QAAQ,OAAO;AAClC,MAAI,SAAS,MAAM,YAAY;AAC/B,SAAO,CAAC,OAAO,IAAI,MAAM,UAAU,OAAO,KAAK,MAAM,MAAM,SAAS;AAClE,QAAI,YAAY,OAAO,QAAQ,QAAQ,MAAM,WAAW,KAAK;AAC3D,kBAAY;AACZ;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACA,MAAI,WAAW;AACb,WAAO,OAAO,CAAC;AAAA,EACjB;AACA,MAAI,WAAW,MAAM,SAAS;AAC5B,UAAM,iBAAiB;AAAA,EACzB,OAAO;AACL,UAAM,iBAAiB;AAAA,EACzB;AACA,SAAO;AACT;AAEA,SAAS,SAAS,QAAQ,OAAO;AAC/B,MAAI,KAAK,OAAO,KAAK;AAGrB,MAAI,OAAO,KAAK;AACd,QAAI,OAAO,MAAM,cAAc,GAAG;AAChC,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAEA,MAAI,MAAM,gBAAgB;AAExB,WAAO,OAAO,CAAC;AACf,WAAO,YAAY,QAAQ,KAAK;AAAA,EAClC;AAGA,MAAI,OAAO,MAAM,aAAa,KAAK,OAAO,MAAM,eAAe,GAAG;AAChE,WAAO,OAAO,CAAC;AACf,WAAO;AAAA,EACT;AACA,MAAI,MAAM,KAAK;AACb,WAAO,UAAU;AACjB,WAAO;AAAA,EACT;AAEA,MAAI,MAAM,OAAO,MAAM,KAAK;AAE1B,UAAM,UAAU;AAEhB,WAAO,YAAY,QAAQ,KAAK;AAAA,EAClC;AACA,MAAI,MAAM,OAAO,MAAM,KAAK;AAC1B,WAAO;AAAA,EACT;AACA,MAAI,GAAG,MAAM,OAAO,GAAG;AACrB,WAAO;AAAA,EACT;AACA,SAAO,SAAS,OAAO;AACvB,SAAO;AACT;AACO,IAAM,QAAQ;AAAA,EACnB,MAAM;AAAA,EACN,YAAY,WAAY;AACtB,QAAI,QAAQ,CAAC;AACb,UAAM,eAAe;AACrB,UAAM,YAAY;AAClB,UAAM,iBAAiB;AACvB,UAAM,UAAU;AAChB,WAAO;AAAA,EACT;AAAA,EACA,OAAO,SAAU,QAAQ,OAAO;AAC9B,QAAI,OAAO,SAAS,EAAG,QAAO;AAC9B,WAAO,SAAS,QAAQ,KAAK;AAAA,EAC/B;AACF;",
  "names": []
}
